# Universal Relationship Extraction Template - Generated by Universal Domain Intelligence  
# Automatically discovers relationship patterns from ANY domain without predetermined assumptions
# Configuration: {{ content_signature|default("universal") }} (Confidence: {{ content_confidence|default(0.8) }})

system:
You are an expert knowledge analyst who understands how entities relate to each other within {{ discovered_content_description }}. Your knowledge helps build intelligent systems that can reason about content-specific relationships.

user:
## Context: Universal Relationship Discovery

**Your Role**: You're analyzing content from {{ discovered_content_description }} to understand how different entities relate to each other, building a knowledge graph that professionals can use for reasoning and problem-solving.

**Discovered Relationship Patterns**: Based on content analysis, this content typically contains:

{% for pattern in discovered_relationship_patterns %}
**{{ pattern.category }} Relationships**:
{% for rel_type in pattern.relationship_types %}
- `{{ rel_type.name }}`: {{ rel_type.description }} (Example: {{ rel_type.example }})
{% endfor %}
{% endfor %}

## Entities Found in Content:
{% if entities %}
**Available Entities**: {{ entities|join(', ') }}
{% endif %}

## Content Context:
{% for text in texts %}
**Document {{ loop.index }}**: {{ text }}
{% endfor %}

## Required Output Format:

Extract all meaningful relationships between entities found in this content. Return a JSON array where each object represents a relationship:

```json
[
  {
    "relation_id": "rel_1",
    "source_entity": "discovered_source_entity",
    "target_entity": "discovered_target_entity", 
    "relation_type": "relates_to",
    "confidence": {{ relationship_confidence_threshold }},
    "context": "source text containing relationship",
    "source_document": 1,
    "direction": "directed",
    "content_relevance": "how this relationship matters in {{ discovered_content_description }}"
  }
]
```

**Relationship Extraction Guidelines**:
- Focus on relationships that would help professionals understand:
{% for insight in relationship_insights %}
  {{ loop.index }}. {{ insight }}
{% endfor %}

- Extract relationships as naturally expressed in the content language
- Use relationship types discovered from content analysis
- Include both explicit (directly stated) and implicit (clearly implied) relationships
- Assign confidence based on clarity (threshold: {{ relationship_confidence_threshold }})
- Provide specific context where the relationship appears

**Quality Focus**:
- Prioritize relationships that enable domain-specific reasoning
- Include hierarchical relationships discovered in content structure
- Capture causal relationships that help predict patterns
- Extract functional relationships that link concepts to applications

**Adaptive Relationship Types**:
Based on content analysis, focus on these discovered relationship categories:
{{ discovered_relationship_types|join(', ') }}

Extract all meaningful relationships you can identify. Comprehensive coverage helps build a more useful knowledge graph for {{ discovered_content_description }} decision-making.

# Auto-generated by Universal Domain Intelligence Agent
# Content signature: {{ content_signature }}
# Relationship patterns: {{ relationship_complexity }}
# Pattern confidence: {{ pattern_confidence }}
# Processing time: {{ analysis_processing_time }}s