# Universal RAG Schema Template
# This template works for ANY domain through automatic configuration

domain_info:
  name: "{{ domain_name }}"
  description: "Auto-generated Universal RAG domain for {{ domain_name }}"
  version: "1.0.0"
  type: "universal_rag_domain"
  created_by: "Universal RAG System"

# Universal base entity types (work for any domain)
base_entity_types:
  # Core universal types
  entity:
    type: "base_entity"
    description: "Generic entity in the domain"
    category: "universal"

  concept:
    type: "base_concept"
    description: "Abstract concept or idea"
    category: "universal"

  object:
    type: "physical_object"
    description: "Physical object or item"
    category: "universal"

  process:
    type: "base_process"
    description: "Process or action"
    category: "universal"

  attribute:
    type: "base_attribute"
    description: "Property or characteristic"
    category: "universal"

# Universal base relationship types (work for any domain)
base_relation_types:
  # Structural relationships
  part_of:
    type: "composition"
    description: "One entity is part of another"
    category: "structural"

  contains:
    type: "composition"
    description: "One entity contains another"
    category: "structural"

  # Functional relationships
  requires:
    type: "dependency"
    description: "One entity requires another"
    category: "functional"

  causes:
    type: "causality"
    description: "One entity causes another"
    category: "functional"

  # Spatial relationships
  located_at:
    type: "spatial"
    description: "Spatial location relationship"
    category: "spatial"

  # Temporal relationships
  follows:
    type: "temporal"
    description: "Temporal sequence relationship"
    category: "temporal"

# Domain-specific extensions (auto-populated by LLM)
domain_entity_types:
  # Will be populated automatically based on text analysis
  "{{ entity_placeholder }}":
    type: "discovered_entity"
    category: "domain_specific"
    confidence: 0.8
    source: "llm_extraction"

domain_relation_types:
  # Will be populated automatically based on text analysis
  "{{ relation_placeholder }}":
    type: "discovered_relation"
    category: "domain_specific"
    confidence: 0.8
    source: "llm_extraction"

# Universal processing configuration
processing_config:
  # Text processing
  text_preprocessing:
    min_length: 10
    max_length: 1000
    clean_special_chars: true
    normalize_whitespace: true

  # Entity extraction
  entity_extraction:
    max_entities_per_text: 10
    confidence_threshold: 0.7
    use_llm_enhancement: true

  # Relation extraction
  relation_extraction:
    max_relations_per_text: 5
    confidence_threshold: 0.7
    use_context_expansion: true

  # Knowledge graph construction
  graph_construction:
    max_nodes: 10000
    max_edges: 50000
    prune_low_confidence: true
    merge_similar_entities: true

# Universal query processing
query_config:
  # Query analysis
  query_analysis:
    enable_entity_recognition: true
    enable_intent_classification: true
    enable_query_expansion: true

  # Retrieval strategy
  retrieval_strategy:
    vector_search_weight: 0.4
    graph_search_weight: 0.3
    entity_search_weight: 0.3

  # Response generation
  response_generation:
    max_response_length: 500
    use_context_ranking: true
    enable_source_attribution: true

# Universal performance settings
performance_config:
  # Caching
  caching:
    enable_response_cache: true
    enable_embedding_cache: true
    cache_ttl: 3600

  # Batching
  batching:
    batch_size: 32
    max_batch_wait_time: 100

  # Optimization
  optimization:
    enable_parallel_processing: false
    max_concurrent_requests: 10
    enable_gpu_acceleration: false

# Universal monitoring
monitoring_config:
  # Metrics
  metrics:
    track_query_latency: true
    track_accuracy_metrics: true
    track_cache_hit_rate: true

  # Logging
  logging:
    log_level: "INFO"
    log_queries: true
    log_responses: false

  # Health checks
  health_checks:
    enable_component_health: true
    health_check_interval: 300